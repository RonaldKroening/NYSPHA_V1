{"ast":null,"code":"import _objectSpread from\"/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment,Component}from\"react\";import*as core from\"@material-ui/core\";import\"./send_message.css\";import{NavLink}from\"react-router-dom\";import axios from\"axios\";import personImage from\"../assets/Person.png\";var Send=/*#__PURE__*/function(_Component){_inherits(Send,_Component);var _super=_createSuper(Send);function Send(){var _this;_classCallCheck(this,Send);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formValue:{},members:[],message:{},event_id:\"\",head:\"\",messageDetails:\"\",redirect:false};_this.changeHandlerMessageSubject=function(event){event.persist();_this.setState(function(prevState){return{message:_objectSpread(_objectSpread({},prevState.message),{},{message_subject:event.target.value})};});};_this.changeHandlerMessageBody=function(event){event.persist();_this.setState(function(prevState){return{message:_objectSpread(_objectSpread({},prevState.message),{},{message_body:event.target.value})};});console.log(_this.state.message);};return _this;}_createClass(Send,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.state.message);console.log(process.env.REACT_APP_EVENTS);console.log(process.env.REACT_APP_REPRESENTATIVES);console.log(\"Hello from send Message\");if(this.props.location.state){var formValue=this.props.location.state.formValue;var fullName=formValue.firstName+\" \"+formValue.lastName;console.log(\"adding full name to message: \"+fullName);var text=this.props.location.state.event_details.text;text=text+\"\\nSincerely,\\n\"+fullName;console.log(text);var head=this.props.location.state.event_details.head;var messageDetails=this.props.location.state.event_details.TEXT;var jurisdiction=this.props.location.state.event_details.jurisdiction;var representative_payload=formValue;representative_payload['jurisdiction']=jurisdiction;console.log(\"form value then repN payload\");console.log(formValue);console.log(representative_payload);this.setState({formValue:formValue,text:text,head:head,messageDetails:messageDetails,redirect:false});axios.post(process.env.REACT_APP_REPRESENTATIVES,representative_payload).then(function(response,body){// handle success\n//console.error('error:', \"error\"); // Print the error if one occurred\n//console.log('statusCode:', response && response.statusCode); // Print the response status code if a response was received\nconsole.log(response);_this2.setState({members:response[\"data\"][\"representatives\"]});}).catch(function(error){// handle error\nconsole.log(error);}).then(function(){// always executed\n});}else{this.setState({redirect:true});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(core.Typography,{variant:\"h4\",align:\"left\",className:\"form-ttle\"},\"Legislature\")),this.state.members.map(function(representative,index){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(core.Paper,{elevation:5,className:\"mainContainer\",color:\"primary.main\"},/*#__PURE__*/React.createElement(core.Container,{maxWidth:\"lg\",className:\"messageContainer\"},/*#__PURE__*/React.createElement(core.Typography,{variant:\"h6\",className:\"messageTitle\"},/*#__PURE__*/React.createElement(\"b\",null,representative.type,\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"flexBoxContainer\"},/*#__PURE__*/React.createElement(NavLink,{to:{pathname:\"/email\",state:{thumbnail:representative.image,district:representative.district,name:representative.name,head:_this3.state.head,email:{toAddress:representative.email,fromAddress:_this3.state.formValue.email,subject:\"\",emailBody:\"This is a test body\"},messageDetails:_this3.state.messageDetails}}},/*#__PURE__*/React.createElement(\"div\",{className:\"imageWidth\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(representative.image?representative.image:personImage),className:\"imageWidth\",alt:representative.name}))),/*#__PURE__*/React.createElement(\"div\",{className:\"memberInfoContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"memberDetailContainer\"},/*#__PURE__*/React.createElement(\"p\",null,representative.name),/*#__PURE__*/React.createElement(\"p\",null,\"Party : \",representative.party),/*#__PURE__*/React.createElement(\"p\",null,\"Website : \",representative.website)))))));})));}}]);return Send;}(Component);export default Send;","map":{"version":3,"sources":["/Users/ronaldkroening/Documents/GitHub/NYSPHA_V1/src/components/send_message.js"],"names":["React","Fragment","Component","core","NavLink","axios","personImage","Send","state","formValue","members","message","event_id","head","messageDetails","redirect","changeHandlerMessageSubject","event","persist","setState","prevState","message_subject","target","value","changeHandlerMessageBody","message_body","console","log","process","env","REACT_APP_EVENTS","REACT_APP_REPRESENTATIVES","props","location","fullName","firstName","lastName","text","event_details","TEXT","jurisdiction","representative_payload","post","then","response","body","catch","error","map","representative","index","type","pathname","thumbnail","image","district","name","email","toAddress","fromAddress","subject","emailBody","party","website"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from \"react\";\nimport * as core from \"@material-ui/core\";\nimport \"./send_message.css\";\nimport { NavLink } from \"react-router-dom\";\nimport axios from \"axios\";\nimport personImage from \"../assets/Person.png\"\n\n\nclass Send extends Component {\n\tstate = {\n\t\tformValue: {},\n\t\tmembers: [],\n\t\tmessage: {},\n\t\tevent_id: \"\",\n\t\thead:\"\",\n\t\tmessageDetails:\"\",\n\t\tredirect: false,\n\t};\n\tcomponentDidMount() {\n\t\tconsole.log(this.state.message);\n\t\tconsole.log(process.env.REACT_APP_EVENTS)\n\t\tconsole.log(process.env.REACT_APP_REPRESENTATIVES);\n\n\t\tconsole.log(\"Hello from send Message\");\n\t\tif (this.props.location.state) {\n\t\t\tvar formValue = this.props.location.state.formValue;\n\t\t\tvar fullName = formValue.firstName + \" \" + formValue.lastName;\n\t\t\tconsole.log(\"adding full name to message: \"+fullName);\n\t\t\tvar text = this.props.location.state.event_details.text;\n\t\t\ttext = text + \"\\nSincerely,\\n\"+fullName\n\t\t\tconsole.log(text);\n\t\t\tvar head = this.props.location.state.event_details.head;\n\t\t\tvar messageDetails = this.props.location.state.event_details.TEXT;\n\t\t\tvar jurisdiction = this.props.location.state.event_details.jurisdiction;\n\t\t\tvar representative_payload = formValue;\n\t\t\trepresentative_payload[ 'jurisdiction'] = jurisdiction;\n\t\t\tconsole.log(\"form value then repN payload\");\n\t\t\tconsole.log(formValue);\n\t\t\tconsole.log(representative_payload);\n\t\t\tthis.setState({\n\t\t\t\tformValue: formValue,\n\t\t\t\ttext: text,\n\t\t\t\thead : head,\n\t\t\t\tmessageDetails : messageDetails,\n\t\t\t\tredirect: false,\n\t\t\t});\n\t\t\taxios\n\t\t\t\t.post(\n          process.env.REACT_APP_REPRESENTATIVES, representative_payload\n          )\n\t\t\t\t.then((response,body) => {\n\t\t\t\t\t// handle success\n\t\t\t\t\t//console.error('error:', \"error\"); // Print the error if one occurred\n\t\t\t\t  //console.log('statusCode:', response && response.statusCode); // Print the response status code if a response was received\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tmembers: response[\"data\"][\"representatives\"],\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\t// handle error\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t})\n\t\t\t\t.then(function () {\n\t\t\t\t\t// always executed\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tredirect: true,\n\t\t\t});\n\t\t}\n\t}\n\tchangeHandlerMessageSubject = (event) => {\n\t\tevent.persist();\n\t\tthis.setState((prevState) => ({\n\t\t\tmessage: { ...prevState.message, message_subject: event.target.value },\n\t\t}));\n\t};\n\tchangeHandlerMessageBody = (event) => {\n\t\tevent.persist();\n\t\tthis.setState((prevState) => ({\n\t\t\tmessage: { ...prevState.message, message_body: event.target.value },\n\t\t}));\n\t\tconsole.log(this.state.message);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t<core.Typography variant=\"h4\" align=\"left\" className=\"form-ttle\">\n\t\t\t\t\t\t\tLegislature\n\t\t\t\t\t\t</core.Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.state.members.map((representative, index) => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<core.Paper\n\t\t\t\t\t\t\t\televation={5}\n\t\t\t\t\t\t\t\tclassName=\"mainContainer\"\n\t\t\t\t\t\t\t\tcolor=\"primary.main\">\n\t\t\t\t\t\t\t\t<core.Container maxWidth=\"lg\" className=\"messageContainer\">\n\t\t\t\t\t\t\t\t\t<core.Typography variant=\"h6\" className=\"messageTitle\">\n\t\t\t\t\t\t\t\t\t\t<b>{representative.type} </b>\n\t\t\t\t\t\t\t\t\t</core.Typography>\n\t\t\t\t\t\t\t\t\t<div className=\"flexBoxContainer\">\n\t\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\t\t\tpathname: \"/email\",\n\t\t\t\t\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthumbnail: representative.image ,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistrict : representative.district,\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: representative.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\thead : this.state.head,\n\t\t\t\t\t\t\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoAddress : representative.email,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfromAddress : this.state.formValue.email,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubject : \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\temailBody : \"This is a test body\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessageDetails : this.state.messageDetails,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<div className =\"imageWidth\">\t\n\t\t\t\t\t\t\t\t\t\t\t<img src={`${representative.image ? representative.image: personImage}`}  className =\"imageWidth\" alt={representative.name}/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t\t<div className=\"memberInfoContainer\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"memberDetailContainer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{representative.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Party : {representative.party}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Website : {representative.website}</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</core.Container>\n\t\t\t\t\t\t\t</core.Paper>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default Send;\n"]},"metadata":{},"sourceType":"module"}